{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nconst TOKEN_KEY = 'payroll_token';\nexport function setToken(token, remember = false) {\n  if (remember) {\n    localStorage.setItem(TOKEN_KEY, token);\n  } else {\n    sessionStorage.setItem(TOKEN_KEY, token);\n  }\n}\nexport function getToken() {\n  return localStorage.getItem(TOKEN_KEY) || sessionStorage.getItem(TOKEN_KEY) || null;\n}\nexport function removeToken() {\n  localStorage.removeItem(TOKEN_KEY);\n  sessionStorage.removeItem(TOKEN_KEY);\n}\nexport function logout() {\n  removeToken();\n}\nexport function getUserRole() {\n  const token = getToken();\n  if (!token) return null;\n  try {\n    const payload = jwt_decode(token);\n    return payload.role || payload.roles || payload.authorities || null;\n  } catch (e) {\n    return null;\n  }\n}\nexport function decodeToken() {\n  const token = getToken();\n  if (!token) return null;\n  try {\n    return jwt_decode(token);\n  } catch (e) {\n    return null;\n  }\n}","map":{"version":3,"names":["jwt_decode","TOKEN_KEY","setToken","token","remember","localStorage","setItem","sessionStorage","getToken","getItem","removeToken","removeItem","logout","getUserRole","payload","role","roles","authorities","e","decodeToken"],"sources":["D:/emp_mngmnt/employee-mgmnt-4/employee-mgmnt/payrollUI-4/payrollUI/src/services/auth.js"],"sourcesContent":["import jwt_decode from 'jwt-decode';\r\n\r\nconst TOKEN_KEY = 'payroll_token';\r\n\r\nexport function setToken(token, remember = false) {\r\n  if (remember) {\r\n    localStorage.setItem(TOKEN_KEY, token);\r\n  } else {\r\n    sessionStorage.setItem(TOKEN_KEY, token);\r\n  }\r\n}\r\n\r\nexport function getToken() {\r\n  return localStorage.getItem(TOKEN_KEY) || sessionStorage.getItem(TOKEN_KEY) || null;\r\n}\r\n\r\nexport function removeToken() {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  sessionStorage.removeItem(TOKEN_KEY);\r\n}\r\n\r\nexport function logout() {\r\n  removeToken();\r\n}\r\n\r\nexport function getUserRole() {\r\n  const token = getToken();\r\n  if (!token) return null;\r\n  try {\r\n    const payload = jwt_decode(token);\r\n    return payload.role || payload.roles || payload.authorities || null;\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function decodeToken() {\r\n  const token = getToken();\r\n  if (!token) return null;\r\n  try {\r\n    return jwt_decode(token);\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,YAAY;AAEnC,MAAMC,SAAS,GAAG,eAAe;AAEjC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAEC,QAAQ,GAAG,KAAK,EAAE;EAChD,IAAIA,QAAQ,EAAE;IACZC,YAAY,CAACC,OAAO,CAACL,SAAS,EAAEE,KAAK,CAAC;EACxC,CAAC,MAAM;IACLI,cAAc,CAACD,OAAO,CAACL,SAAS,EAAEE,KAAK,CAAC;EAC1C;AACF;AAEA,OAAO,SAASK,QAAQA,CAAA,EAAG;EACzB,OAAOH,YAAY,CAACI,OAAO,CAACR,SAAS,CAAC,IAAIM,cAAc,CAACE,OAAO,CAACR,SAAS,CAAC,IAAI,IAAI;AACrF;AAEA,OAAO,SAASS,WAAWA,CAAA,EAAG;EAC5BL,YAAY,CAACM,UAAU,CAACV,SAAS,CAAC;EAClCM,cAAc,CAACI,UAAU,CAACV,SAAS,CAAC;AACtC;AAEA,OAAO,SAASW,MAAMA,CAAA,EAAG;EACvBF,WAAW,CAAC,CAAC;AACf;AAEA,OAAO,SAASG,WAAWA,CAAA,EAAG;EAC5B,MAAMV,KAAK,GAAGK,QAAQ,CAAC,CAAC;EACxB,IAAI,CAACL,KAAK,EAAE,OAAO,IAAI;EACvB,IAAI;IACF,MAAMW,OAAO,GAAGd,UAAU,CAACG,KAAK,CAAC;IACjC,OAAOW,OAAO,CAACC,IAAI,IAAID,OAAO,CAACE,KAAK,IAAIF,OAAO,CAACG,WAAW,IAAI,IAAI;EACrE,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF;AAEA,OAAO,SAASC,WAAWA,CAAA,EAAG;EAC5B,MAAMhB,KAAK,GAAGK,QAAQ,CAAC,CAAC;EACxB,IAAI,CAACL,KAAK,EAAE,OAAO,IAAI;EACvB,IAAI;IACF,OAAOH,UAAU,CAACG,KAAK,CAAC;EAC1B,CAAC,CAAC,OAAOe,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}